from flask import Blueprint, jsonify, request
from .views.test import *
from .views.exploit import *
from flask_cors import CORS

main = Blueprint('main', __name__)
CORS(main)

main.route('/', methods=['GET'])(test_conn)

main.route('/exploit/', methods=['GET'])(get_exploit_with_params)
main.route('/exploit/<int:exploit_id>', methods=['GET'])(get_exploit_by_id)
main.route('/exploit/', methods=['POST'])(create_exploit)
main.route('/exploit/<int:exploit_id>', methods=['DELETE'])(delete_exploit)
main.route('/exploit/<int:exploit_id>', methods=['PATCH'])(update_exploit)

# main.route('/user/logout')(logout)
# (get_all_users)
# (get_current_user)
# (get_user_by_id)
# (update_user)

@main.errorhandler(404)
def err_404(err):
    return jsonify({'message':'The page requested in not found'}), 404
